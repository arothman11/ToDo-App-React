(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,o){e.exports=o(22)},16:function(e,t,o){},18:function(e,t,o){},20:function(e,t,o){},22:function(e,t,o){"use strict";o.r(t);var n=o(0),a=o.n(n),s=o(8),r=o.n(s),i=o(9),c=o(10),d=o(2),l=o(3),u=o(5),p=o(4),h=o(6),m=o(1),f=(o(16),o(18),function(e){function t(){return Object(d.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("li",{id:this.props.id},a.a.createElement("p",null,this.props.text),a.a.createElement("button",{className:"checkbtn",onClick:this.props.completeToDo},a.a.createElement("i",{className:"fas fa-check"})),a.a.createElement("button",{className:"closebtn",onClick:this.props.deleteToDo},a.a.createElement("i",{className:"fas fa-times"})))}}]),t}(n.Component)),b=(o(20),function(e){function t(){return Object(d.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"inputbtn"},a.a.createElement("input",{type:"text",id:"addform",placeholder:"Add new item...",value:this.props.input,onChange:this.props.onChange}),a.a.createElement("button",{type:"button",onClick:this.props.addTodo,id:"button"},"Add"),a.a.createElement("button",{type:"button",onClick:this.props.sortToDo,id:"button"},"Sort"))}}]),t}(n.Component)),y=function(e){function t(e){var o;return Object(d.a)(this,t),(o=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={todos:[],input:""},o.onChange=o.onChange.bind(Object(m.a)(Object(m.a)(o))),o.addTodo=o.addTodo.bind(Object(m.a)(Object(m.a)(o))),o.completeToDo=o.completeToDo.bind(Object(m.a)(Object(m.a)(o))),o.deleteToDo=o.deleteToDo.bind(Object(m.a)(Object(m.a)(o))),o.sortToDo=o.sortToDo.bind(Object(m.a)(Object(m.a)(o))),o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"onChange",value:function(e){this.setState({input:e.target.value})}},{key:"componentDidMount",value:function(){var e=this,t=new XMLHttpRequest;t.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var t=JSON.parse(this.responseText);console.log(t),e.setState({todos:t});var o=!0,n=!1,a=void 0;try{for(var s,r=t.entries()[Symbol.iterator]();!(o=(s=r.next()).done);o=!0){var i=s.value,d=Object(c.a)(i,2),l=(d[0],d[1]);!0===l.completed&&(document.getElementById(l.id).style.textDecoration="line-through")}}catch(u){n=!0,a=u}finally{try{o||null==r.return||r.return()}finally{if(n)throw a}}e.setState({todos:t})}},t.open("GET","https://cse204.work/todos",!0),t.setRequestHeader("x-api-key","d3f1ce-409923-9f921b-6dc584-60ba89"),t.send()}},{key:"addTodo",value:function(e){e.preventDefault();var t={text:this.state.input},o=this,n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=JSON.parse(this.responseText);console.log(e),o.setState({todos:Object(i.a)(o.state.todos).concat([e]),input:""})}else 4===this.readyState&&console.log(this.responseText)},n.open("POST","https://cse204.work/todos",!0),n.setRequestHeader("Content-type","application/json"),n.setRequestHeader("x-api-key","d3f1ce-409923-9f921b-6dc584-60ba89"),n.send(JSON.stringify(t))}},{key:"deleteToDo",value:function(e){e.preventDefault();var t=this,o=e.target.parentElement.parentElement.id,n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=t.state.todos.filter(function(e){if(e.id!==o)return e});t.setState({todos:e})}else this.readyState},n.open("DELETE","https://cors-anywhere.herokuapp.com/https://cse204.work/todos/"+o,!0),n.setRequestHeader("Content-type","application/json"),n.setRequestHeader("x-api-key","d3f1ce-409923-9f921b-6dc584-60ba89"),n.send()}},{key:"completeToDo",value:function(e){e.preventDefault();var t=e.target.parentElement.parentElement.id,o=new XMLHttpRequest;o.onreadystatechange=function(){4===this.readyState&&200===this.status?document.getElementById(t).style.textDecoration="line-through":this.readyState},o.open("PUT","https://cse204.work/todos/"+t,!0),o.setRequestHeader("Content-type","application/json"),o.setRequestHeader("x-api-key","d3f1ce-409923-9f921b-6dc584-60ba89"),o.send(JSON.stringify({completed:!0}))}},{key:"sortToDo",value:function(e){e.preventDefault();var t=this.state.todos;t.sort(function(e,t){return e.text.localeCompare(t.text)}),this.setState({todos:t})}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"Amee's ToDo App"),a.a.createElement("div",{className:"tasks"},a.a.createElement("ul",{id:"list"},a.a.createElement(b,{addTodo:this.addTodo,onChange:this.onChange,input:this.state.input,sortToDo:this.sortToDo}),this.state.todos.map(function(t){return a.a.createElement(f,{key:t.id,id:t.id,completed:t.completed,text:t.text,removeDeletedTodo:e.removeDeletedTodo,completeToDo:e.completeToDo,deleteToDo:e.deleteToDo})}))))}}]),t}(n.Component);r.a.render(a.a.createElement(y,null),document.getElementById("root"))}},[[11,2,1]]]);
//# sourceMappingURL=main.e1ca3984.chunk.js.map